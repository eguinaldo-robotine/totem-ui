# Cursor Rules para Totem UI

## Contexto do Projeto
Este é um projeto de interface gráfica usando Python, Qt 6.10 e QML.

## Linguagens e Frameworks
- **Python 3.10+**: Linguagem principal
- **PyQt6 6.10+**: Bindings Python para Qt6
- **QML**: Linguagem declarativa para interfaces
- **pyproject.toml**: Gerenciamento de dependências e configuração

## Estrutura do Projeto (Arquitetura em Camadas)

### Python (src/)
- `models/`: Entidades de dados (herdam de BaseModel)
- `repository/`: Acesso a dados (implementam BaseRepository)
- `service/`: Lógica de negócio
- `controller/`: Conexão QML ↔ Lógica (herdam de QObject)

*antes de criar um novo arqivo model, repository, service,ou controler, crie uma pasta para ele ficar dentro exemplo:

models/users/userController.py*

### QML (qml/)
- `components/`: Componentes reutilizáveis
- `screens/`: Páginas principais da aplicação
- `dialogs/`: Diálogos e modais
- `styles/`: Temas e estilos (Theme.qml)
*antes de criar um novo arqivo model, repository, service,ou controler, crie uma pasta para ele ficar dentro exemplo:
screens/splashScreen/SplashScreen.qml" o nome do arquivo dece ser em  Pascal case e o nome da pasta em Camel case*

quando criar um componente reutilizavel verifique as pastas já existentes e veja se ele se encaixa em alguma delas, caso contrario me pergunte o nome do arquivo e onde deve ficar.

## Convenções de Código

### Python
- Use type hints quando possível
- Siga PEP 8 com linha de 100 caracteres (configurado no black)
- Use docstrings em português para funções e classes públicas
- Prefira f-strings para formatação de strings
- Use pathlib.Path para manipulação de caminhos

### QML
- Use indentação de 4 espaços
- Organize imports no topo do arquivo
- Use IDs descritivos para componentes
- Prefira Layouts (ColumnLayout, RowLayout) sobre anchors quando possível
- Mantenha componentes reutilizáveis em arquivos separados

## Boas Práticas

### Qt/QML
- Sempre verifique se arquivos QML existem antes de carregá-los
- Use QGuiApplication para aplicações sem widgets
- Prefira caminhos absolutos ou relativos ao executável para recursos QML
- Trate erros de carregamento do QML adequadamente

### Python
- Use context managers (with) para recursos
- Trate exceções específicas, não genéricas
- Valide entradas de usuário
- Use logging em vez de print para depuração em produção


## Padrões da Arquitetura

### Estrutura de Pacotes
- Usa pacotes Python tradicionais com `__init__.py`
- Imports absolutos: `from src.models.app_state import AppState`
- Cada diretório tem seu `__init__.py`

### Models
- Herdam de `BaseModel`
- Usam `@dataclass` quando possível
- Implementam `to_dict()` e `from_dict()`

### Repository
- Herdam de `BaseRepository[T]`
- Implementam CRUD básico (get_by_id, get_all, save, delete)
- Podem ser substituídos sem afetar outras camadas

### Service
- Recebem repositories via construtor (injeção de dependência)
- Contêm lógica de negócio
- Não conhecem detalhes de implementação

### Controller
- Herdam de `QObject`
- Usam `@pyqtProperty` para propriedades QML
- Usam `@pyqtSlot` para métodos chamados do QML
- Emitem signals quando necessário

## Notas
- Sempre responda em português
- Use comentários em português no código
- Mantenha a consistência com a estrutura existente
- Ao adicionar novas funcionalidades, considere a arquitetura Qt/QML

